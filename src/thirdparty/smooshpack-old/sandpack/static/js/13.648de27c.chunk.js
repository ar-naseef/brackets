(this.webpackJsonp=this.webpackJsonp||[]).push([[13],{"./src/sandbox/compile-old.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/babel-runtime/regenerator/index.js"),i=n.n(r),s=n("./node_modules/babel-runtime/helpers/asyncToGenerator.js"),a=n.n(s),o=n("./node_modules/codesandbox-api/dist/codesandbox.es5.js"),c=n("./src/app/utils/debug.js"),d=n("./src/sandbox/errors/transformers/index.js"),l=n("./src/sandbox/eval/index.js"),u=n("./src/sandbox/eval/manager.js"),_=n("./node_modules/console-feed/lib/Transform/index.js"),m=n("./src/sandbox/status-screen/index.js"),f=n("./src/sandbox/react-error-overlay/overlay.js"),p=n("./src/sandbox/external-resources.js"),h=n("./src/sandbox/boilerplates/default-boilerplates.js");function g(e){var t=void 0;t="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var n,r,i="undefined"!=typeof document&&document.attachEvent;if(!i){var s=(r=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(e){return t.setTimeout(e,20)},function(e){return r(e)}),a=(n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout,function(e){return n(e)}),o=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},c=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&a(this.__resizeRAF__),this.__resizeRAF__=s(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})}},d=!1,l="",u="animationstart",_="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",p=document.createElement("fakeelement");if(void 0!==p.style.animationName&&(d=!0),!1===d)for(var h=0;h<_.length;h++)if(void 0!==p.style[_[h]+"AnimationName"]){(f=_[h])+"Animation",l="-"+f.toLowerCase()+"-",u=m[h],d=!0;break}var g="resizeanim",b="@"+l+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",v=l+"animation: 1ms "+g+"; "}return{addResizeListener:function(n,r){if(i)n.attachEvent("onresize",r);else{if(!n.__resizeTriggers__){var s=t.getComputedStyle(n);s&&"static"==s.position&&(n.style.position="relative"),function(){if(!document.getElementById("detectElementResize")){var t=(b||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="detectElementResize",r.type="text/css",null!=e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),n.appendChild(r)}}(),n.__resizeLast__={},n.__resizeListeners__=[],(n.__resizeTriggers__=document.createElement("div")).className="resize-triggers",n.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',n.appendChild(n.__resizeTriggers__),o(n),n.addEventListener("scroll",c,!0),u&&(n.__resizeTriggers__.__animationListener__=function(e){e.animationName==g&&o(n)},n.__resizeTriggers__.addEventListener(u,n.__resizeTriggers__.__animationListener__))}n.__resizeListeners__.push(r)}},removeResizeListener:function(e,t){if(i)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(u,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}var b=n("./src/sandbox/boilerplates/index.js"),v=n("./src/sandbox/npm/index.js");n.d(t,"areActionsEnabled",function(){return A}),n.d(t,"getCurrentManager",function(){return C}),n.d(t,"default",function(){return D});var x,z,y,w=(x=a()(i.a.mark(function e(t,n,r,s,a){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!1,E&&E.id===t){e.next=7;break}if(o=!0,E=new u.a(t,Object(l.a)(n),r),!R){e.next=7;break}return e.next=7,E.load();case 7:return(a||o)&&E.setManifest(s),e.next=10,E.updateData(r);case 10:return e.abrupt("return",E);case 11:case"end":return e.stop()}},e,this)})),function(e,t,n,r,i){return x.apply(this,arguments)}),T=(z=a()(i.a.mark(function e(t){var n,r,s,a,c,l,u,g,x,z,y,T,j,A,C,N,H,D,F,S,W,q=t.sandboxId,B=t.modules,I=t.entry,J=t.externalResources,V=t.dependencies,G=t.hasActions,K=t.isModuleView,P=void 0!==K&&K,Q=t.template;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now();try{Object(o.clearErrorTransformers)(),Object(d.a)(),Object(f.b)(E&&E.webpackHMR)}catch(e){console.error(e)}return k=G,Object(p.a)(J),e.prev=4,e.next=7,Object(v.a)(V);case 7:return r=e.sent,s=r.manifest,(a=r.isNewCombination)&&!R&&(E=null),c=Date.now(),e.next=14,w(q,Q,B,s,a);case 14:return l=B.find(function(e){return e.path===I}),e.next=17,E.transpileModules(l);case 17:if(O("Transpilation time "+(Date.now()-c)+"ms"),Object(m.b)(),!E.webpackHMR)try{if(u=document.body.children,s.dependencies.find(function(e){return"react-dom"===e.name}))for(g=E.resolveModule("react-dom",""),(x=E.evaluateModule(g)).unmountComponentAtNode(document.body),z=0;z<u.length;z+=1)"DIV"===u[z].tagName&&x.unmountComponentAtNode(u[z])}catch(e){}if(E.webpackHMR&&!R||(y=B.find(function(e){return"/public/index.html"===e.path||"/index.html"===e.path}),T=y?y.code:'<div id="root"></div>',document.body.innerHTML=T),j=Date.now(),A=document.body.innerHTML,C=E.evaluateModule(l),O("Evaluation time: "+(Date.now()-j)+"ms"),N=A!==document.body.innerHTML,!P||N||l.path.endsWith(".html")){e.next=40;break}if(!(l.code&&l.code.includes("React"))){e.next=40;break}if(0!==Object(b.c)().length){e.next=38;break}return e.prev=30,e.next=33,Object(b.a)(h.a);case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(30),console.log("Couldn't load all boilerplates");case 38:if(H=Object(b.b)(l))try{H.module.default(C)}catch(e){console.error(e)}case 40:return L||M(),D=Date.now(),F=E.testRunner,e.prev=43,F.initialize(),F.findTests(B),e.next=48,F.runTests();case 48:S=F.reportResults(),O("Test Evaluation time: "+(Date.now()-D)+"ms"),Object(o.dispatch)({type:"test-result",result:Object(_.Encode)(S)}),e.next=56;break;case 53:e.prev=53,e.t1=e.catch(43),Object(o.dispatch)({type:"test-result",error:F.reportError(e.t1)});case 56:O("Total time: "+(Date.now()-n)+"ms"),Object(o.dispatch)({type:"success"}),R=!1,E.save(),e.next=72;break;case 62:e.prev=62,e.t2=e.catch(4),console.log("Error in sandbox:"),console.error(e.t2),E&&E.clearCache(),e.t2.module=e.t2.module,e.t2.fileName=e.t2.fileName||I,(W=new Event("error")).error=e.t2,window.dispatchEvent(W);case 72:"function"==typeof window.__puppeteer__&&window.__puppeteer__("done");case 73:case"end":return e.stop()}},e,this,[[4,62],[30,35],[43,53]])})),function(e){return z.apply(this,arguments)}),j=(y=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.length){e.next=7;break}return t=N.pop(),H=!0,e.next=5,T(t);case 5:H=!1,j();case 7:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)}),L=!1,E=null,k=!1,O=Object(c.a)("cs:compiler");function A(){return k}function C(){return E}var R=!0;function M(){g().addResizeListener(document.body,function(){document.body&&Object(o.dispatch)({type:"resize",height:document.body.getBoundingClientRect().height})}),L=!0}Object(f.a)();var N=[],H=!1;function D(e){N[0]=e,H||j()}}}]);
//# sourceMappingURL=13.648de27c.chunk.js.map